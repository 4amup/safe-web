# safe-web
## 需求实现TODO list
* [x] 引入腾讯地图，使用腾讯地图api的markers将问题点标记
* [x] 问题点提示窗口用map的api解决
* ~~提交问题后实时刷新前端页面，采用ajax异步提交~~，目前已经用res.redirect解决
* [x] 模板渲染时，需要传参数进去
* [ ] 登录管理，权限管理
* ~~地图地理位置按照区域划分，加上电子围栏，[腾讯地图api](http://bbs.map.qq.com/thread-8859-1-1.html)，[百度地图电子围栏开发](http://www.cnblogs.com/dongh/p/6589503.html)~~
* [ ] 读取上传图片的exif信息，将gps数据提取，自动定位区域
* [ ] setCompany页面，为特定权限用户添加功能-自己划定自己管理的区域，即一个[多边形覆盖物](http://lbs.qq.com/javascript_v2/doc/polygon.html)（电子围栏）；
* [ ] setDepartment页面，划线将自己单位存好
* [ ] setArea页面，划线将自己单位的小区域存好
* [ ] 哪块隐患大，问题多，定位相关区域后，提示普通用户，使用热力图api
## 权限系统分析
* [ ] 普通用户-实名认证后可发布隐患问题，不可点开细节图看，只能看分布区域，是否已经整改
* [ ] 普通用户-实名认证表单，姓名，单位，上传工作证，共3项
* [ ] 安全员用户-由超级管理员进行后台认证，权限可划定自己单位管理范围
* [ ] 安技处管理者（超级管理员）-进行后台普通员工实名认证、公司管理者认证、安全员认证，划定公司的范围，添加单位名称